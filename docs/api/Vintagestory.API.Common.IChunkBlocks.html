<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Interface IChunkBlocks | VintageStory API </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Interface IChunkBlocks | VintageStory API ">
      
      
      <link rel="icon" href="../images/gameicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="ManagedReference">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../images/logo.png" alt="VintageStory API">
            VintageStory API
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled="" placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">
      <div class="toc-offcanvas">
        <div class="offcanvas-md offcanvas-start" tabindex="-1" id="tocOffcanvas" aria-labelledby="tocOffcanvasLabel">
          <div class="offcanvas-header">
            <h5 class="offcanvas-title" id="tocOffcanvasLabel">Table of Contents</h5>
            <button type="button" class="btn-close" data-bs-dismiss="offcanvas" data-bs-target="#tocOffcanvas" aria-label="Close"></button>
          </div>
          <div class="offcanvas-body">
            <nav class="toc" id="toc"></nav>
          </div>
        </div>
      </div>

      <div class="content">
        <div class="actionbar">
          <button class="btn btn-lg border-0 d-md-none" type="button" data-bs-toggle="offcanvas" data-bs-target="#tocOffcanvas" aria-controls="tocOffcanvas" aria-expanded="false" aria-label="Show table of contents">
            <i class="bi bi-list"></i>
          </button>

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="Vintagestory.API.Common.IChunkBlocks">



  <h1 id="Vintagestory_API_Common_IChunkBlocks" data-uid="Vintagestory.API.Common.IChunkBlocks" class="text-break">
Interface IChunkBlocks  
  </h1>

  <div class="facts text-secondary">
    <dl><dt>Namespace</dt><dd><a class="xref" href="Vintagestory.html">Vintagestory</a>.<a class="xref" href="Vintagestory.API.html">API</a>.<a class="xref" href="Vintagestory.API.Common.html">Common</a></dd></dl>
  <dl><dt>Assembly</dt><dd>VintagestoryAPI.dll</dd></dl>
  </div>

  <div class="markdown summary"></div>
  <div class="markdown conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">public interface IChunkBlocks</code></pre>
  </div>








  <dl class="typelist extensionMethods">
    <dt>Extension Methods</dt>
    <dd>
  <div>
      <a class="xref" href="Vintagestory.API.Util.ObjectHandleExtensions.html#Vintagestory_API_Util_ObjectHandleExtensions_ToGcHandle_System_Object_">ObjectHandleExtensions.ToGcHandle(object)</a>
  </div>
  <div>
      <a class="xref" href="Vintagestory.API.Util.ObjectHandleExtensions.html#Vintagestory_API_Util_ObjectHandleExtensions_ToIntPtr_System_Object_">ObjectHandleExtensions.ToIntPtr(object)</a>
  </div>
  </dd></dl>





  <h2 class="section" id="properties">Properties
</h2>


  <a id="Vintagestory_API_Common_IChunkBlocks_Item_" data-uid="Vintagestory.API.Common.IChunkBlocks.Item*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_Item_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.Item(System.Int32)">
  this[int]
  
  </h3>

  <div class="markdown level1 summary"><p>Retrieves the first solid block, if that one is empty, retrieves the first fluid block</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int this[int index3d] { get; set; }</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>




  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <a id="Vintagestory_API_Common_IChunkBlocks_Length_" data-uid="Vintagestory.API.Common.IChunkBlocks.Length*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_Length" data-uid="Vintagestory.API.Common.IChunkBlocks.Length">
  Length
  
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int Length { get; }</code></pre>
  </div>





  <h4 class="section">Property Value</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>








  <h2 class="section" id="methods">Methods
</h2>


  <a id="Vintagestory_API_Common_IChunkBlocks_ClearBlocks_" data-uid="Vintagestory.API.Common.IChunkBlocks.ClearBlocks*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_ClearBlocks" data-uid="Vintagestory.API.Common.IChunkBlocks.ClearBlocks">
  ClearBlocks()
  
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void ClearBlocks()</code></pre>
  </div>













  <a id="Vintagestory_API_Common_IChunkBlocks_ClearBlocksAndPrepare_" data-uid="Vintagestory.API.Common.IChunkBlocks.ClearBlocksAndPrepare*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_ClearBlocksAndPrepare" data-uid="Vintagestory.API.Common.IChunkBlocks.ClearBlocksAndPrepare">
  ClearBlocksAndPrepare()
  
  </h3>

  <div class="markdown level1 summary"><p>Same as ClearBlocks but initialises the chunkdata palette, so that SetBlockUnsafe can be used  (useful in worldgen)</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void ClearBlocksAndPrepare()</code></pre>
  </div>













  <a id="Vintagestory_API_Common_IChunkBlocks_ContainsBlock_" data-uid="Vintagestory.API.Common.IChunkBlocks.ContainsBlock*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_ContainsBlock_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.ContainsBlock(System.Int32)">
  ContainsBlock(int)
  
  </h3>

  <div class="markdown level1 summary"><p>Does this chunk contain any examples of the specified block?
<br>(If the result is false, this is a very fast lookup because it quickly scans the blocks palette, not every block individually.)</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">bool ContainsBlock(int blockId)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>blockId</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.boolean">bool</a></dt>
    <dd></dd>
  </dl>











  <a id="Vintagestory_API_Common_IChunkBlocks_FuzzyListBlockIds_" data-uid="Vintagestory.API.Common.IChunkBlocks.FuzzyListBlockIds*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_FuzzyListBlockIds_System_Collections_Generic_List_System_Int32__" data-uid="Vintagestory.API.Common.IChunkBlocks.FuzzyListBlockIds(System.Collections.Generic.List{System.Int32})">
  FuzzyListBlockIds(List&lt;int&gt;)
  
  </h3>

  <div class="markdown level1 summary"><p>Populates the list with all block IDs which are present in this chunk.  The list may contain false positives (i.e. blocks which used to be here but were removed) so that's why it's called a &quot;Fuzzy&quot; list.
There will be no false negatives, therefore useful as a first-pass filter when scanning chunks for various types of block e.g. ITickable</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void FuzzyListBlockIds(List&lt;int&gt; reusableList)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>reusableList</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.collections.generic.list-1">List</a>&lt;<a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a>&gt;</dt>
    <dd></dd>
  </dl>












  <a id="Vintagestory_API_Common_IChunkBlocks_GetBlockId_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetBlockId*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_GetBlockId_System_Int32_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetBlockId(System.Int32,System.Int32)">
  GetBlockId(int, int)
  
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int GetBlockId(int index3d, int layer)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>layer</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>











  <a id="Vintagestory_API_Common_IChunkBlocks_GetBlockIdUnsafe_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetBlockIdUnsafe*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_GetBlockIdUnsafe_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetBlockIdUnsafe(System.Int32)">
  GetBlockIdUnsafe(int)
  
  </h3>

  <div class="markdown level1 summary"><p>Like get (i.e. this[]) but not threadsafe - only for use where setting and getting is guaranteed to be all on the same thread (e.g. during worldgen)</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int GetBlockIdUnsafe(int index3d)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>











  <a id="Vintagestory_API_Common_IChunkBlocks_GetFluid_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetFluid*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_GetFluid_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.GetFluid(System.Int32)">
  GetFluid(int)
  
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">int GetFluid(int index3d)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>

  <h4 class="section">Returns</h4>
  <dl class="parameters">
    <dt><a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>











  <a id="Vintagestory_API_Common_IChunkBlocks_ReleaseBulkReadLock_" data-uid="Vintagestory.API.Common.IChunkBlocks.ReleaseBulkReadLock*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_ReleaseBulkReadLock" data-uid="Vintagestory.API.Common.IChunkBlocks.ReleaseBulkReadLock">
  ReleaseBulkReadLock()
  
  </h3>

  <div class="markdown level1 summary"><p>Leave a locked section for bulk block reads from this ChunkData, using Unsafe read methods</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void ReleaseBulkReadLock()</code></pre>
  </div>













  <a id="Vintagestory_API_Common_IChunkBlocks_SetBlockAir_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockAir*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_SetBlockAir_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockAir(System.Int32)">
  SetBlockAir(int)
  
  </h3>

  <div class="markdown level1 summary"></div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void SetBlockAir(int index3d)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <a id="Vintagestory_API_Common_IChunkBlocks_SetBlockBulk_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockBulk*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_SetBlockBulk_System_Int32_System_Int32_System_Int32_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockBulk(System.Int32,System.Int32,System.Int32,System.Int32)">
  SetBlockBulk(int, int, int, int)
  
  </h3>

  <div class="markdown level1 summary"><p>Efficiently bulk-set a single block id in a chunk throughout a y-layer.  lenX will be ignored (always treated as 32), the y-position is specified in index3d, the width lenZ will be respected</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void SetBlockBulk(int index3d, int lenX, int lenZ, int value)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>lenX</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>lenZ</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>value</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <a id="Vintagestory_API_Common_IChunkBlocks_SetBlockUnsafe_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockUnsafe*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_SetBlockUnsafe_System_Int32_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetBlockUnsafe(System.Int32,System.Int32)">
  SetBlockUnsafe(int, int)
  
  </h3>

  <div class="markdown level1 summary"><p>Not threadsafe, used only in cases where we know that the chunk already has a palette (e.g. in worldgen when replacing rock with other blocks)</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void SetBlockUnsafe(int index3d, int value)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>value</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <a id="Vintagestory_API_Common_IChunkBlocks_SetFluid_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetFluid*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_SetFluid_System_Int32_System_Int32_" data-uid="Vintagestory.API.Common.IChunkBlocks.SetFluid(System.Int32,System.Int32)">
  SetFluid(int, int)
  
  </h3>

  <div class="markdown level1 summary"><p>Used to place blocks into the fluid layer instead of the solid blocks layer; calling code must do this</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void SetFluid(int index3d, int value)</code></pre>
  </div>

  <h4 class="section">Parameters</h4>
  <dl class="parameters">
    <dt><code>index3d</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
    <dt><code>value</code> <a class="xref" href="https://learn.microsoft.com/dotnet/api/system.int32">int</a></dt>
    <dd></dd>
  </dl>












  <a id="Vintagestory_API_Common_IChunkBlocks_TakeBulkReadLock_" data-uid="Vintagestory.API.Common.IChunkBlocks.TakeBulkReadLock*"></a>

  <h3 id="Vintagestory_API_Common_IChunkBlocks_TakeBulkReadLock" data-uid="Vintagestory.API.Common.IChunkBlocks.TakeBulkReadLock">
  TakeBulkReadLock()
  
  </h3>

  <div class="markdown level1 summary"><p>Enter a locked section for bulk block reads from this ChunkData, using Unsafe read methods</p>
</div>
  <div class="markdown level1 conceptual"></div>

  <div class="codewrapper">
    <pre><code class="lang-csharp hljs">void TakeBulkReadLock()</code></pre>
  </div>














</article>

        <div class="contribution d-print-none">
        </div>


      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
